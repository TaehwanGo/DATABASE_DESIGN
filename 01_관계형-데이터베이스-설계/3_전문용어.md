# 3. 전문 용어

- 이 장에서 다루는 주제
  - 전문용어가 중요한 이유
  - 값 관련 용어
  - 구조 관련 용어
  - 관계 관련 용어
  - 무결성 관련 용어
  - 요약
  - 연습문제

### 전문용어가 중요한 이유

- 용어는 관계형 데이터베이스 모델에 대한 개념과 의견들을 정의하고 표현할 때 사용된다
- 용어는 데이터베이스 설계 프로세스 자체를 정의하고 표현할 때 사용된다
  - 설계 프로세스는 이런 용어들을 알고 이해해야 보다 쉽고 명확하게 알 수 있다
- 용어는 관계형 데이터베이스나 RDBMS에 대하여 이야기할 때면 언제나 사용된다

### 값 관련 용어

- 데이터

  - 데이터베이스에 저장된 값

- 정보

  - 데이터 중에서 일을 하거나 분석을 하기 위해 특정한 방법을 통해 의미 있고 실용적으로 재생성한 것들을 의미한다
  - 정보는 동적인 의미를 갖는데, 이것은 지속적으로 데이터베이스에 저장된 데이터 사이의 관계를 변경하고 수 많은 방법을 통해
    데이터를 보여주고 가공할 수 있기 때문이다
  - 모니터나 보고서로 출력된 Select문의 결과를 정보로 볼 수 있다
  - 데이터를 몇 가지 방법으로 가공해서 의미있는 결과로 바꿔야 정보라 볼 수 있다!
  - 데이터는 저장하는 것이고 정보는 찾는 것이다

- Null

  - 없거나 알려지지 않은 값을 나타낸다
  - 0 또는 공백문자열은 Null이 아니다 !
    - SQL문에서도 공백문자열이 포함되게 검색이 가능하니 유의미하다

- Null 값

  - Null은 명시된 목적에 맞게 사용할 때 굉장히 유용하다
    - 누락되었거나 알려지지 않은 경우에 사용할 수 있음
  - 누락값
    - 누락값은 일반적으로 사람의 실수로 인해 발생한다
    - 누락값을 인지하도록 해서 채워넣을 수 있게 함
  - 알려지지 않은 값
    - 테이블에서
      - 필드에 필요한 특정 값이 정의되지 않은 경우
        - 예) 학교 시간표 DB에 가을 학기의 시작에 제공되길 바라는 새로운 수업과정이 포함되지 않은 Categories 테이블
      - 알 수 없는 값이 들어가는 경우
        - 어떤 사람이 자신이 살고 있는 지역의 이름을 모르는 경우 값을 넣을 수 없기 때문에 Null로 표시
        - 정확한 지역의 이름을 넣어서 해결할 수 있음
  - 만약 어떤 레코드에도 적용되지 않을 경우, 해당 필드값은 Null이 될 수 있다
    - 서로 배타적인 관계인 테이블(또는 컬럼)이 있다면 둘중 하나는 Null이 들어갈 수 있다
  - 적용안함과 적용할 수 없음은 다르다
    - Null보다 "N/A"같은 문자를 넣는게 명확하게 알 수 있게 해주는 방법 중 하나이다

- Null로 인한 문제
  - 가장 큰 단점은 수학적 연산에 부정적 영향을 미친다
    - Null을 포함한 연산은 그 결과가 Null로 나온다
    - 수학적 연산이 있는 필드에 Null을 허용하지 않음으로써 해결할 수 있다
  - 집계 시 Null을 제외하고 집계하기 때문에 정확하지 않은 합계가 나올 수 있다

### 구조 관련 용어

#### 테이블

- 사용자가 테이블로 인식되는 관계에 저장
  - 각 관계는 튜플(레코드)와 속성(필드)로 구성된다
- 모든 테이블은 기본 키(Primary key)라 알려진, 각 레코드에 유일한 값으로 구분되는 적어도 하나 이상의 필드를 포함해야 한다
  - 기본 키 덕분에 물리적인 위치를 알 필요가 없다
- 테이블이 보여주는 대상

  - `객체` 가 될 수도, `이벤트`가 될 수도 있다.
  - 객체인 경우
    - 테이블은 장소, 사람, 물건과 같은 유형의 사물을 의미한다
  - 이벤트인 경우
    - 테이블이 기록하고자 하는 특성들을 특정 시간대에 발생하는 것들을 표시하는 것을 의미한다

- 데이터 테이블 : 정보를 만들 때 사용하는 데이터를 저장하는 테이블

  - 관계형 데이터베이스의 가장 일반적인 종류의 테이블이다
  - 수정, 삭제 등의 가공작업을 할 수 있고
    특정한 형식의 정보로 전환할 수 있기 때문에 동적인 특징을 갖는다

- 룩업 테이블(검증 테이블) : 데이터 무결성을 보장할 때 사용하는 데이터를 저장한다
  - 예) 도시명, 기술 범주, 상품 코드, 프로젝트 고유 번호 등
  - 룩업 테이블에 저장되는 데이터는 거의 변화하지 않기 때문에 정적이라 표현한다
  - 룩업 테이블에서 작업하는 경우는 드물지만, 간접적으로 데이터 테이블에 넣어야하는 검증값들을 간접적으로 사용할 것이다
  - 검증 테이블에 대한 상세한 내용 => 11장. 업무 규칙

#### 필드(속성)

- 데이터베이스의 가장 작은 구조, 테이블이 가지고 있는 대상의 특성을 표현
- 정보의 품질은
  - 필드 자체의 구조적 무결성과
  - 데이터 무결성을 보장하기 위해 투자한 시간에 직접적으로 비례한다
- 필드를 과소평가해서는 절대로 안 된다
- 모든 필드는 단 하나의 값을 갖게 되며, 필드의 이름으로 필드가 어떤 값을 갖고 있는지 알 수 있다
  - 필드에 들어가는 데이터를 알 수 있도록 한다
- 적절하지 않게 설계된 데이터베이스의 필드에 대한 세 가지 유형
  - 1. 둘 이상의 서로 다른 항목들을 값으로 갖는 `다중 구성 필드`(복합 필드라고도 불림)
  - 2. 같은 종류의 값을 여러 번 갖고 있는 `다중 값` 필드
  - 3. 연결된 문자 값이나 수식의 결과 내용을 갖고 있는 `계산된 필드`

#### 레코드(Record)

- 튜플이라고도 불리는 레코드는 테이블 대상에 유일한 값을 표시한다
- 각 레코드는 고유값으로 데이터베이스에서 식별된다
- 레코드들은 테이블 관계를 이해하는 데 있어서 중요한 요소이다
  - 테이블에 있는 레코드가 다른 테이블의 레코드와 어떻게 연결되는지를 알아야 하기 때문이다

#### 뷰(View)

- 뷰는 데이터베이스의 하나 이상의 테이블에서 여러 필드들을 혼합하여 만든 "가상" 테이블이다
- 뷰를 구성하는 테이블들을 기반 테이블이라고 한다
- 관계형 모델에서는 뷰에 데이터를 저장하기 보다는 `기반 테이블에서 데이터를 추출`하여 사용하기 때문에 뷰를 가상적이라 한다
- 몇몇 프로그램들은 뷰를 `저장된 쿼리`로 관리한다
- 뷰가 중요한 이유 세 가지
  - 1. 뷰는 동시에 여러 테이블에 있는 데이터에 대한 작업을 수행할 수 있다
    - 뷰를 통해 이런 작업을 하기 위해서는 테이블들 사이에 관계를 갖고 연결되어 있어야 한다
  - 2. 뷰는 사용자가 하나 혹은 여러 테이블에 있는 특정 필드를 보거나 조작하는 것을 방지하도록 해준다
    - 이 기능은 보안 측면에서 괸장한 강점이 된다
  - 3. 뷰는 데이터 무결성을 구현하는 데 도움이 된다
    - 이런 목적으로 사용하는 뷰는 검증 뷰(Validation View)라 한다
- 뷰를 설계하고 사용하는 방법에 대하여 12장. "뷰"에서 더 자세히 다룰 예정이다
- 뷰를 지원하는 데이터베이스의 경우
  - Indexed view 또는 materialized view
    - Indexed view : 데이터를 저장할 수 있음
    - 뷰 데이터 처리 속도를 향상시키기 위해, 필드에 인덱스를 걸 수 있다는 점에서 일반적인 뷰와는 차이가 있다
      - 특정업체에서만 지원함

#### 키

- 키(Key)는 테이블에서 매우 특별한 역할을 수행하는 필드
- 테이블에서 해당 필드의 목적에 따라 키의 종류가 결정된다
- 테이블에 들어갈 수 있는 키는 여러 가지가 있지만, 이 중 가장 중요한 것은 `기본 키(Primary Key)`와 `외래 키(Foreign Key)`다
- 하나 이상의 필드로 구성된 기본 키는 `복합 기본 키`라 부른다
- 기본 키는 모든 테이블에 있어 가장 중요하다
- 기본 키의 값은 전체 데이터베이스 중 특정 테이블을 식별한다
- 기본 키의 필드는 전체 데이터베이스 중 특정 테이블을 식별한다
- 기본 키는 테이블 수준의 무결성을 강제하고 데이터베이스에 있는 다른 테이블과 관계를 설정하도록 해준다
- 관계
  - 첫 번째 테이블에서 기본 키를 복사 -> 두 번째 테이블의 구조에 포함시킴(외래 키)
  - 8장. "키"와 10장. "테이블 관계"에서 보다 자세하게 다룰 예정이다

#### 인덱스

- 인덱스는 RDBMMS의 데이터 처리 속도를 향상시키기 위한 구조다
- 특정 RDBMS 프로그램은 인덱스를 사용하는 방법과 인덱스가 작업하는 방법을 결정한다
- 그러나 인덱스가 논리적인 데이터베이스 구조상 절대적으로 필요한 것은 아니다
- 인덱스와 키를 혼돈하지 말자 !
- 테이블 레코드를 식별할 때 사용하는 논리적 구조가 키라면,
- 인덱스는 데이터 처리 속도를 최적화할 때 사용하는 물리적 구조라는 둘 사이의 차이에 대해 항상 알고 있어야 한다

### 관계 관련 용어

#### 관계

- 관계는 관계형 데이터베이스의 중요한 구성요소다
- 관계는 다중 테이블 뷰를 만들 수 있도록 한다
- 관계는 불필요한 데이터를 줄이고, 중복 데이터를 제거함으로써 데이터 무결성을 보장한다
- 모든 관계는 세 가지 방법으로 특성화 할 수 있다

  - 테이블 사이에 존재하는 관계의 종류에 의해
  - 각 테이블이 참여하는 방법에 의해
  - 각 테이블이 참여하는 정도에 의해

- 연결 테이블 예시(관계 만을 나타내는 테이블)
  - 연결 테이블을 통한 두 테이블의 관계 설정

| Student ID | Class ID |
| :--------: | :------: |
|    6003    |   9001   |
|    6001    |   9003   |
|    6003    |   9003   |
|    6002    |   9002   |
|    6001    |   9001   |

#### 관계의 유형

- 테이블 사이에 존재할 수 있는 기수(Cardinality: 카디널리티)라 부르는 관계에는 세 가지 유형이 있다
  - 1:1, 1:N, N:N
- 두 테이블이 관계를 맺을 때 첫 번째 테이블을 부모, 두 번째 테이블을 자식이라 한다
- 1대1 관계(1:1)
  - ![](../images/3_%EC%A0%84%EB%AC%B8%EC%9A%A9%EC%96%B4/1%EB%8C%801%EA%B4%80%EA%B3%84.jpeg)
  - 서로 한개씩만 연결된 관계
  - 기본 키를 공유할 수 있는 유일한 관계이다
- 1대다 관계(1:N)
  - ![](../images/3_%EC%A0%84%EB%AC%B8%EC%9A%A9%EC%96%B4/1%EB%8C%80%EB%8B%A4%EA%B4%80%EA%B3%84.jpeg)
  - 한쪽은 한개만 다른한쪽은 여러개
  - 첫 번째 테이블에 있는 한 개의 레코드가 두 번째 테이블에 있는 여러 레코드와 연결되지만,
  - 두 번째 테이블에 있는 한 개의 레코드는 첫 번째 테이블에 있는 오직 한 개의 레코드에만 연결할 수 있을 때 성립
- 다대다 관계(N:N)
  - ![](../images/3_%EC%A0%84%EB%AC%B8%EC%9A%A9%EC%96%B4/%EB%8B%A4%EB%8C%80%EB%8B%A4%EA%B4%80%EA%B3%84.jpeg)
  - 서로 다수가 연결 될 수 있음
  - 연결 테이블을 통해 설정

#### 참여의 유형

- 두 테이블(A, B)이 관계를 맺을 때
  - 필수적 : B에 레코드를 넣기 전에 A에 적어도 하나의 레코드를 넣어야 하는 경우
  - 선택적 : B에 레코드를 넣을 때 A가 없어도 되는 경우

#### 참여의 정도

- 특정 테이블이 관련된 테이블에 있는 한 개의 레코드와 연결되어야 하는 최소한의 레코드 개수와 연결될 수 있는 최대 레코드 개수를 결정
- 최대/최소
  - A, B에서 A가 B에 적어도 1개 많게는 10개까지 연결될 수 있다면
    - 테이블 B에 대한 참여의 정도는 1, 10 이다(왼쪽에 최솟값, 오른쪽에 최댓값을 표시)

### 무결성 관련 용어

#### 필드 명세

- 필드 명세 == 도메인
- 필드의 모든 요소를 표시
- 일반적인, 물리적인, 논리적인 유형의 요소를 모두 포함한다
  - 일반적인 요소 : 가장 기본적인 정보들
    - 필드 이름, 상세 설명, 부모 테이블
  - 물리적인 요소 : 필드를 구성하는 방법, 이 필드를 사용하는 사람들에게 표시하는 방법
    - 데이터 유형, 길이, 출력 양식 등
  - 논리적인 요소 : 필드에 저장되는 값
    - 요청값, 값의 범위, 기본값
- 9장. 필드명세에서 자세히 다룸

#### 데이터 무결성

- 데이터의 유효성, 일관성, 정확성과 관련이 있다
- 데이터베이스 설계 프로세스의 가장 중요한 요소 중 하나
- 데이터 무결성 유형 네 가지
  - 데이터베이스 구조의 여러 측면과 그 들이 적용되는 수준 + 데이터를 인식하고 데이터를 사용하는 방식
  - 1. 데이터 수준 무결성(엔티티 무결성)
    - 테이블 내 중복된 레코드가 없으며, 테이블 내의 각 레코드를 식별하는 필드가 유일한 값을 갖고, 널이 아니라는 것을 보장
  - 2. 필드 수준 무결성(도메인 무결성)
    - 모든 필드의 구조가 잘 되었음을 보장
    - 각 필드에 있는 값의 유효성, 일관성, 정확성이 확보되었는지와 같은 유형의 필드들이 데이터베이스 내에서 일관성 있게 정의되었는지를 확인할 수 있음
  - 3. 관계 수준 무결성(참조 무결성)
    - 테이블 사이의 관계의 적절성
    - 동기화 여부 : 테이블에 있는 레코드들이 데이터가 다른 테이블에서 입력되거나 수정될 때 마다 동기화 여부를 보장
  - 4. 업무 규칙
    - 조직이 데이터를 인지하고 사용하는 방법에 따라 데이터베잏스의 특정 측면에 제약을 주는 것
    - 이런 제약들은 필드에 저장되는 값의 종류와 범위, 관계에 있는 각 테이블의 참여의 정도와 종류, 특정 관계에 있는 관계 수준 무결성을 위해 사용되는 동기화의 종류와 같은 데이터베이스 설계 측면에 영향을 줄 수 있다
    - 11장에서 자세히
    - 업무 규칙이 무결성에 영향을 주기 때문에 설계 프로세스를 진행하는 동안 다른 데이터 무결성의 세 가지 종류를 동시에 고려해야 한다

### 요약

- 값 관련 용어
  - 널
- 구조 관련 용어
  - 필드, 레코드, 테이블, 뷰
  - 키 필드, 인덱스 차이
- 관계 관련 용어
  - 관계
  - 관계의 종류
    - 1:1, 1:N, N:N
  - 참여의 종류
    - 필수적, 선택적
  - 참여의 정도
    - 관련된 레코드의 최소, 최대 개수
  - 무결성 관련 용어
    - 필드 명세 : 물리적, 논리적 특징 설정
    - 데이터 무결성
